<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Samuel Degen | Theoretical Physics at UCLA</title>
  <meta name="title" content="Samuel Degen | Theoretical Physics at UCLA" />
  <meta name="description" content="Samuel Degen is a UCLA physics student advancing research at the intersection of quantum field theory, gravity, and nuclear physics. His work uses powerful modern tools from particle physics to improve theoretical predictions for next-generation experiments in gravitational waves and ultracold atoms. Select fellowships and international research opportunities highlight his potential as a future global scholar and a communicator who helps disseminate scientific advances across borders." />
  <meta name="keywords" content="Samuel Degen, Sam Degen, samdegen, UCLA physics, theoretical physics, quantum field theory, effective field theory, gravitational waves, nuclear physics, renormalization group, many-body theory, student researcher, future professor, academic portfolio, UCLA Department of Physics and Astronomy" />
  <link rel="canonical" href="https://samdegen.com/" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://samdegen.com/" />
  <meta property="og:title" content="Samuel Degen | Theoretical Physics at UCLA" />
  <meta property="og:description" content="Physics student focusing on effective field theory and its connections to gravitational waves and nuclear matter. Recognized through competitive fellowships and international research opportunities that signal promise as a global contributor and communicator." />
  <meta property="og:image" content="https://samdegen.com/images/degen_headshot-min.JPG" />
  <meta name="author" content="Samuel Degen" />
  <meta name="robots" content="index, follow" />
  <link rel="icon" href="images/favicon/physics_characters_circle.png" type="image/png" />
  <link rel="apple-touch-icon" href="images/favicon/physics_characters_circle.png" />
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Samuel Degen",
      "alternateName": "Sam Degen",
      "url": "https://samdegen.com/",
      "image": "https://samdegen.com/images/degen_headshot-min.JPG",
      "jobTitle": "Physics Student",
      "affiliation": {
        "@type": "Organization",
        "name": "UCLA Department of Physics & Astronomy"
      },
      "description": "UCLA physics student studying how effective field theory can connect quantum field theory with gravitational waves and nuclear physics; recognized through competitive fellowships and international research opportunities that underscore potential as a future global scholar and science communicator."
    }
  </script>
  <style>
    /* THEME TOKENS */
    html { scroll-behavior: smooth; }
    :root { 
      --bg-color: #3a3a3a;
      --text-color: #eaeaea;
      --section-bg: #222222;
      --accent-gradient: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%);
      --nav-bg: #333333; /* pills */
      --nav-fg: #ffffff;
      --nav-hover-filter: brightness(1.2);
      --control-bg: rgba(34,34,34,0.75);
      --control-fg: var(--text-color);
      --control-border: rgba(255,255,255,0.18);
      --stack-gap: 28px; /* equal spacing between header↔︎gallery and gallery↔︎sections */
      --hdr-gap: 16px;   /* even spacing inside header */
    }
    body.light-mode {
      --bg-color: #ffffff;
      --text-color: #333333;
      --section-bg: #ffffff; /* pure white cards */
      --accent-gradient: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%);
      --nav-bg: #ffffff;
      --nav-fg: #111111;
      --control-bg: rgba(255,255,255,0.75);
      --control-fg: #111111;
      --control-border: rgba(0,0,0,0.12);
    }

    /* TYPOGRAPHY */
    body { font-family: 'Calibre', 'Calibri', 'Helvetica Neue', Helvetica, Arial, system-ui, -apple-system, Segoe UI, sans-serif; margin: 0; background: var(--bg-color); color: var(--text-color); line-height: 1.6; transition: background 0.3s, color 0.3s; }
    main a {
      color: #225ee8;
      text-decoration-color: rgba(34, 94, 232, 0.5);
      transition: color 0.2s ease, text-decoration-color 0.2s ease;
    }
    main a:visited {
      color: #1f55cf;
    }
    main a:hover,
    main a:focus-visible {
      color: #174ac6;
      text-decoration-color: currentColor;
    }
    body:not(.light-mode) main a,
    body:not(.light-mode) main a:visited {
      color: #a1d2ff;
      text-decoration-color: rgba(161, 210, 255, 0.65);
    }
    body:not(.light-mode) main a:hover,
    body:not(.light-mode) main a:focus-visible {
      color: #c6e2ff;
    }

    /* HEADER */
    header { background: var(--accent-gradient); padding: 2rem 1rem var(--hdr-gap); text-align: center; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.5); }
    header h1, header p { color: #333; }
    .header-info { background: rgba(255,255,255,0.6); display: inline-block; padding: 1.5rem 1rem; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); box-sizing: border-box; max-width: min(900px, 95vw); width: 100%; margin-bottom: 0; }
    .name-row { display: flex; align-items: center; justify-content: center; gap: 1.25rem; }
    .avatar { width: 220px; height: 220px; border-radius: 50%; background: #bdbdbd; display: flex; align-items: center; justify-content: center; overflow: hidden; flex-shrink: 0; }
    .avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; display: block; }
    .text-col { text-align: left; max-width: 600px; margin: 0; }
    .text-col h1 { margin: 0.15rem 0 0.3rem; }
    .text-col p { margin: 0.25rem 0; }

    /* NAV (header pills) */
    nav { margin-top: var(--hdr-gap); display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; }
    nav a, .download-btn { /* pill style */
      color: var(--nav-fg);
      background: var(--nav-bg);
      background-image: linear-gradient(to bottom, rgba(255,255,255,0.06), rgba(0,0,0,0.08));
      border: none; /* no borders */
      text-decoration: none; font-weight: 700; letter-spacing: .2px;
      padding: 0.5rem 1rem; border-radius: 999px; min-width: 104px; text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.08);
      transition: transform .18s ease, box-shadow .25s ease;
      backdrop-filter: saturate(115%);
      display: inline-flex; align-items: center; justify-content: center;
      -webkit-tap-highlight-color: transparent; backface-visibility: hidden; transform: translateZ(0);
    }
    nav a:hover, .download-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(0,0,0,0.25); }
    nav a:focus-visible, .download-btn:focus-visible { outline: 2px solid rgba(148,187,233,0.6); outline-offset: 2px; }

    .btn-row { margin-top: 0.75rem; display:flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
    .download-btn svg { width: 16px; height: 16px; margin-right: 6px; fill: currentColor; flex: 0 0 auto; }

    /* LAYOUT */
    main.page { padding-inline: 12px; }


    /* GALLERY — transform-based, seamless, center emphasis without crop */
    .carousel { position: relative; max-width: 1000px; margin: 2rem auto 0 auto; }
    .viewport { overflow: hidden; padding-bottom: 12px; } /* extra space so bottom shadow isn't clipped */
    .track {
      display: flex;
      align-items: center;
      gap: 14px;
      will-change: transform;
      transition: transform 520ms cubic-bezier(.22,.61,.36,1);
      transform: translateX(0);
    }
    .no-anim { transition: none !important; }
    .slide {
      flex: 0 0 70%;
      position: relative;
      border-radius: 16px;
      background: var(--section-bg); /* match card bg as fallback */
      box-shadow: 0 6px 18px rgba(0,0,0,0.2);
      aspect-ratio: 4/3;
      overflow: hidden;
      transform-origin: center;
      transform: scale(0.85); /* side slides slightly smaller */
      transition: transform 460ms cubic-bezier(.22,.61,.36,1);
      display: grid; place-items: center; /* perfectly center content */
    }
    .slide img { max-width: 100%; max-height: 100%; width: auto; height: auto; object-fit: contain; display: block; }
    .slide.active { transform: scale(1.00); } /* active full size, no crop */

    /* Gallery nav buttons — match card bg (75% opacity via token) */
    .carousel .nav-btn {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: var(--control-bg); color: var(--control-fg);
      /* keep borders on gallery arrows as-is to avoid changing unrelated elements */
      border: 1px solid var(--control-border);
      border-radius: 999px; padding: 0.4rem 0.7rem; cursor: pointer;
      display: grid; place-items: center; box-shadow: 0 3px 10px rgba(0,0,0,0.25);
      user-select: none; backdrop-filter: saturate(120%);
    }
    .carousel .nav-btn.left { left: 8px; }
    .carousel .nav-btn.right { right: 8px; }
    
    /* SECTION CARDS */
    section { max-width: 900px; margin: var(--stack-gap) auto 0 auto; padding: 1.5rem; background: var(--section-bg); border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); text-align: left; }
    h2 { border-bottom: 3px solid transparent; border-image: var(--accent-gradient) 1; padding-bottom: 0.5rem; margin-top: 0; }
    ul { padding-left: 1.2rem; } ul li strong { font-weight: 700; }
    details { margin-bottom: 1rem; } summary { cursor: pointer; font-weight: 700; color: var(--text-color); }

    /* FOOTER */
    .footer { text-align: center; padding: 1.1rem 1rem; font-size: 0.98rem; background: var(--accent-gradient); color: #0b0b0b; margin-top: var(--stack-gap); border-top-left-radius: 20px; border-top-right-radius: 20px; font-weight: 600; letter-spacing: .3px; text-shadow: 0 1px 0 rgba(255,255,255,0.25); }

    /* MODE TOGGLE */
    #modeToggle { position: fixed; bottom: 20px; right: 20px; z-index: 1000; font-family: inherit; background: var(--control-bg); border: none; padding: 0.6rem 1rem; border-radius: 999px; color: var(--control-fg); cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: 600; box-shadow: 0 4px 10px rgba(0,0,0,0.25); backdrop-filter: blur(6px) saturate(120%); transition: transform .18s ease, box-shadow .25s ease, background .25s ease; }
    #modeToggle:hover { transform: translateY(-1px); box-shadow: 0 8px 20px rgba(0,0,0,0.35); }
    #modeToggle svg { width: 18px; height: 18px; display:block; }
    #modeToggle:hover { transform: translateY(-1px); box-shadow: 0 8px 20px rgba(0,0,0,0.35); }

    /* MOBILE */
    @media (max-width: 600px) {
      header h1 { font-size: 1.8rem; }
      .header-info { padding: 1.25rem; max-width: 92vw; }
      .name-row { flex-direction: column; gap: 0.75rem; }
      .avatar { width: min(72vw, 320px); height: min(72vw, 320px); }
      .text-col { text-align: center; }
      .btn-row { justify-content: center; }
      .slide { flex-basis: 88%; height: clamp(220px, 56vw, 440px); }
      section { margin: 1.25rem auto 0 auto; border-radius: 14px; }
    }
  </style>
</head>
<body class="light-mode">

<header>
  <div class="header-info">
    <div class="name-row">
      <div class="avatar" aria-label="Headshot">
        <img src="images/degen_headshot-min.JPG" alt="Samuel Degen headshot" onerror="this.style.display='none'" />
      </div>
      <div class="text-col">
        <h1>Samuel Degen</h1>
        <p><strong>Department of Physics, UCLA</strong><br>Los Angeles, CA 90024, USA</p>
        <div class="btn-row">
          <a class="download-btn" href="mailto:degen@ucla.edu" aria-label="Email Samuel Degen">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M3 6h18v12H3z" fill="none" stroke="currentColor" stroke-width="1.5"/><path d="M3 7l9 6 9-6" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
            Email
          </a>
          <a class="download-btn" href="https://linkedin.com/in/samuel-degen" target="_blank" rel="noopener" aria-label="Open LinkedIn profile in a new tab">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="3" y="3" width="18" height="18" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="1.5"/><path d="M8 10v7" fill="none" stroke="currentColor" stroke-width="1.5"/><circle cx="8" cy="7.5" r="1" fill="currentColor"/><path d="M12 17v-4a3 3 0 016 0v4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
            LinkedIn
          </a>
          <a class="download-btn" href="Samuel_Degen_CV.pdf" download aria-label="Download CV as PDF">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M12 3v12" fill="none" stroke="currentColor" stroke-width="1.5"/><path d="M8 11l4 4 4-4" fill="none" stroke="currentColor" stroke-width="1.5"/><path d="M4 19h16" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
            Download CV
          </a>
        </div>
      </div>
    </div>
  </div>
  <nav>
    <a href="#education">Education</a>
    <a href="#honors">Honors & Awards</a>
    <a href="#research">Research</a>
    <a href="#talks">Talks</a>
    <a href="#meetings">Meetings</a>
    <a href="#service">Service</a>
  </nav>
</header>

<main class="page">
  <section id="summary">
    <h2>About</h2>
    <p>Samuel Degen is a third-year physics major and URSP Scholar at UCLA researching theoretical frameworks that connect quantum field theory, gravity, and nuclear physics. His projects at UCLA and the University of Tokyo aim to improve theoretical predictions for next-generation gravitational wave and ultracold atom experiments using powerful effective methods from quantum field theory. Samuel has presented his work internationally and received multiple fellowships recognizing his independent contributions. He is deeply committed to mentorship and accessibility in science and plans to continue fostering these values as he pursues a career in academia.</p>
  </section>

  <!-- GALLERY: center-peek, wraps 1→2→3→4→1 ... with cloned ends -->
  <div class="carousel" aria-label="Image gallery">
    <div class="viewport" id="carouselViewport">
      <div class="track" id="carouselTrack">
        <div class="slide"><img src="images/gallery/utrip_welcome_talk.JPEG" alt="Gallery image 1" loading="lazy" onerror="this.style.display='none'" /></div>
        <div class="slide"><img src="images/gallery/aps_dpp_66.JPG" alt="Gallery image 2" loading="lazy" onerror="this.style.display='none'" /></div>
        <div class="slide"><img src="images/gallery/utrip_yasuda.JPEG" alt="Gallery image 3" loading="lazy" onerror="this.style.display='none'" /></div>
        <div class="slide"><img src="images/gallery/utrip_advisor.jpg" alt="Gallery image 5" loading="lazy" onerror="this.style.display='none'" /></div>
        <div class="slide"><img src="images/gallery/ucla_reu_invited_title.JPG" alt="Gallery image 6" loading="lazy" onerror="this.style.display='none'" /></div>
        <div class="slide"><img src="images/gallery/utrip_welcome_group.JPEG" alt="Gallery image 4" loading="lazy" onerror="this.style.display='none'" /></div>
        <div class="slide"><img src="images/gallery/ucla_reu_invited_eft.jpg" alt="Gallery image 7" loading="lazy" onerror="this.style.display='none'" /></div>
      </div>
    </div>
    <button class="nav-btn left" id="prevBtn" aria-label="Previous image">‹</button>
    <button class="nav-btn right" id="nextBtn" aria-label="Next image">›</button>
  </div>

  <section id="education">
    <h2>Education</h2>
    <ul>
      <li><strong>University of California, Los Angeles (UCLA)</strong>
        <ul>
          <li>B.S. Physics &amp; Mathematics (2023 – Present)</li>
          <li>GPA: 3.984 overall; 4.0 major</li>
        </ul>
      </li>
      <li><strong>University of Colorado Boulder</strong>
        <ul>
          <li>High School Concurrent Enrollment (2021 – 2023)</li>
          <li>GPA: 4.0 overall</li>
        </ul>
      </li>
    </ul>
  </section>

  <section id="honors">
    <h2>Honors &amp; Awards</h2>
    <h3>2025</h3>
    <ul>
      <li><strong>UCLA Undergraduate Research Scholars Program (URSP)</strong> — year-long research scholarship (2025 - 2026)</li> <!-- supporting proposed work on gravitational wave scattering with Mikhail Solon (2025 - 2026)</li> -->
      <li><strong>Mani L. Bhaumik Institute for Theoretical Physics Summer Research Fellowship</strong> — First undergraduate offered a summer research fellowship at UCLA’s Bhaumik Institute for Theoretical Physics (August 2025)</li>
      <li><strong>University of Tokyo Research Internship Program (UTRIP)</strong> — 1 of 14 selected from 1,149 applicants for in-person, fully funded research and culture program; <strong>FUTI Global Leadership Award</strong> recipient (June 2025)</li>
      <li><strong>Perimeter Institute’s PSI START Satellite Program</strong> — 1 of 3 international students selected for in-person, fully funded 2-week program in Quebec (May 2025)</li>
    </ul>
    <h3>2024</h3>
    <ul>
      <li><strong>UCLA Summer Undergraduate Research Fellowship</strong> — 1 of 2 first-year undergraduates selected for competitive paid 10-week fellowship (Summer 2024)</li>
    </ul>
  </section>

  <section id="research">
    <h2>Research Experience</h2>
    <details>
      <summary><strong>University of Tokyo — H. Liang Nuclear Theory Group</strong> (2025–Present)</summary>
      <p>A deep microscopic understanding of quantum many-body theories would revolution- ize many fields from nucleosynthesis and reactor design to neutron-star physics and ultracold atom experiments. Density Functional Theory (DFT) is the only approach applicable across nearly the entire nuclear chart, making its derivation from first prin- ciples a hot topic in recent years. Modern theoretical tools such as the Functional Renormalization Group (FRG) have enabled a first-principles formulation of DFT, known as the FRG-DFT. Though applied to 2D and 3D electrons with Coulomb in- teractions, a theoretical benchmark and connection to experiment remain missing. We address this gap by applying FRG-DFT to the exactly solvable Gaudin-Yang model: a strongly coupled 1D Fermi gas experimentally realizable with ultracold atoms. We de- rive the exact infinite hierarchy of coupled flow equations for the ground state energy, and explicit spin dependence enables extension to the spin-unsaturated electron gas. We truncate the hierarchy to compare our first-principles equation of state calculation to perturbation theory, competing methods, and the exact solution. Our results estab- lish a clear theoretical benchmark for FRG-DFT and lay foundation for its extension to realistic higher-dimensional many-body systems.</p>
      <p><em>Supported by UTRIP 2025 and FUTI Global Leadership Award.</em></p>
    </details>
    <details>
      <summary><strong>UCLA — Z. Bern &amp; M. Solon Scattering Amplitudes Group</strong> (2025–Present)</summary>
      <p>This project develops a new field-theoretic framework to understand how black holes interact with their surrounding environment, such as gas or dark matter, and how these interactions leave imprints on gravitational wave signals. Inspired by methods from gravitational self-force and tidal effective field theory, it aims to model the drag forces experienced by black holes as they move through a medium and predict how these effects could be detected with next-generation observatories. This approach is exciting because it could offer new ways to probe dark matter experimentally or shed new light on the process of jet quenching in QCD, potentially linking similar gravitational, particle, and astrophysical phenomena through a common theoretical language.</p>
      <p><em>Supported by Mani L. Bhaumik Institute for Theoretical Physics Summer 2025 Research Fellowship and 2025 - 2026 UCLA URSP.</em></p>
    </details>
    <details>
      <summary><strong>UCLA — E.P. Alves Plasma Theory Group</strong> (2024–2025)</summary>
      <p>Developed novel ML-based methods for studying time-dependent particle acceleration in relativistic astrophysical jets. My work resolves longstanding limitations of standard models by combining analytic theory and machine learning to uniquely solve ill-posed problems for the first time. Demonstrated that simple energy-dependent models are insufficient to explain the observed nonthermal particle spectrum and that these novel ML methods can be generalized to solve a large class of ill-posed problems—uniquely identifying physical solutions from an infinite family of solutions that perfectly reconstruct the data. Presented results at an international plasma physics conference, where my contributed oral talk initiated discussions toward new collaborations and research directions.</p>
      <p><em>Supported by UCLA Physics Summer 2024 Research Fellowship.</em></p>
    </details>
    <details>
      <summary><strong>UCLA — B.C. Regan Condensed Matter Group</strong> (2024)</summary>
      <p>Pedagogical contributions in proving the Feynman Checkerboard at a level suitable for undergraduates, illuminating an accessible way to teach propagators.</p>
    </details>
  </section>

  <section id="talks">
    <h2>Selected Talks &amp; Presentations</h2>
    <ul>
      <li>“<strong>Physics Without Borders: Nuclear Theory and Global Perspectives from a Summer in Tokyo</strong>”
        <ul>
          <li><span style="color: rgb(25, 181, 46);">(invited)</span> Research Experiences for Undergraduates (REU) Special Seminar, UCLA (August 15, 2025)</li>
        </ul>
      </li>
      <li>“<strong>Benchmarking FRG-DFT with the One-Dimensional Fermi Gas – Towards a Nonperturbative Many-Body Nuclear Theory</strong>”
        <ul>
          <li>UTRIP Final Presentation, The University of Tokyo, Tokyo, Japan (August 5, 2025)</li>
          <li><a href="https://meetings.aps.org/Meeting/FWS25/Session/L04.5">APS Far West Section</a>, UC Santa Cruz (October 11, 2025)</li>
        </ul>
      </li>
      <li>“<strong>Data-driven statistical model of nonthermal particle acceleration by the kink instability in relativistic jets</strong>”
        <ul>
          <li><a href="https://meetings.aps.org/Meeting/DPP24/Session/NO05.14">APS Division of Plasma Physics</a>, Atlanta, Georgia (October 9, 2024)</li>
        </ul>
      </li>
      <li>“<strong>From Finite Groups to Lie Algebras: Symmetries and Representations in Physics</strong>”
        <ul>
          <li>Perimeter Institute PSI START Program, Bishop’s University, Sherbrooke, Quebec, Canada (May 29, 2025)</li>
        </ul>
      </li>
    </ul>
  </section>

  <section id="meetings">
    <h2>Meetings Attended</h2>
    <ul>
      <li><strong>California Amplitudes Meeting 2025 (LA)</strong> — Mani L. Bhaumik Institute for Theoretical Physics, UCLA (November 2025)</li>
      <li><strong>2025 Annual Meeting of the APS Far West Section</strong> — UC Santa Cruz (October 2025)</li>
      <li><strong>2025 Southern California Strings</strong> — Mani L. Bhaumik Institute for Theoretical Physics, UCLA (October 2025)</li>
      <li><strong>California Amplitudes Meeting 2025 (Davis)</strong> — Center for Quantum Mathematics and Physics (QMAP), UC Davis (May 2025)</li>
      <li><strong>66th Annual Meeting of the APS Division of Plasma Physics</strong> — Atlanta, Georgia (October 2024)</li>
    </ul>
  </section>

  <section id="service">
    <h2>Service &amp; Outreach</h2>
    <h3>Interviews &amp; Press</h3>
    <ul>
      <li><strong><a href="https://www.ubishops.ca/samuel-degen-perimeter-at-b-u/">Perimeter Institute’s PSI START Satellite Interview</a></strong> (May 2025)</li>
      <li><strong>FUTI Global Leadership Award</strong> (upcoming)</li>
    </ul>
    <h3>Activities</h3>
    <ul>
      <li><strong>Professional Events Chair</strong>, Society of Physics Students, UCLA — developed resources for research and course planning</li>
      <li><strong>Teaching Assistant Training</strong>, UCLA Physics — only undergraduate trained as TA, appointments pending improved department funding</li>
      <li><strong>Member</strong>, Amplitudes Journal Club, String Theory Journal Club, Plasma Theory Journal Club @ UCLA</li>
    </ul>
  </section>
</main>

<div class="footer">© 2025 Samuel Degen — Last updated October 2025</div>

<button id="modeToggle" aria-label="Toggle dark/light mode"></button>

<script>
  // Light/Dark mode toggle with monochrome SVG icons + text
  const modeToggle = document.getElementById('modeToggle');
  const sunIcon = '<svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="4" fill="none" stroke="currentColor" stroke-width="1.5"/><g stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><line x1="12" y1="2" x2="12" y2="5"/><line x1="12" y1="19" x2="12" y2="22"/><line x1="2" y1="12" x2="5" y2="12"/><line x1="19" y1="12" x2="22" y2="12"/><line x1="4.2" y1="4.2" x2="6.5" y2="6.5"/><line x1="17.5" y1="17.5" x2="19.8" y2="19.8"/><line x1="4.2" y1="19.8" x2="6.5" y2="17.5"/><line x1="17.5" y1="6.5" x2="19.8" y2="4.2"/></g></svg>';
  const moonIcon = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M21 12.6A8.5 8.5 0 1 1 11.4 3 6.5 6.5 0 0 0 21 12.6z" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>';
  const THEME_STORAGE_KEY = 'samueldegen-theme';

  function currentTheme(){ return document.body.classList.contains('light-mode') ? 'light' : 'dark'; }
  function applyStoredTheme(){
    try {
      const stored = localStorage.getItem(THEME_STORAGE_KEY);
      if (stored === 'dark') {
        document.body.classList.remove('light-mode');
      } else if (stored === 'light') {
        document.body.classList.add('light-mode');
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.remove('light-mode');
      }
    } catch (err) {
      /* localStorage might be unavailable; default to markup */
    }
  }
  function persistTheme(){
    try { localStorage.setItem(THEME_STORAGE_KEY, currentTheme()); }
    catch (err) { /* ignore */ }
  }
  function updateModeToggle(){
    const isLight = document.body.classList.contains('light-mode');
    const label = isLight ? 'Dark Mode' : 'Light Mode';
    modeToggle.innerHTML = (isLight ? moonIcon : sunIcon) + '<span class="label">' + label + '</span>';
    modeToggle.setAttribute('aria-label', isLight ? 'Switch to dark mode' : 'Switch to light mode');
  }

  applyStoredTheme();
  updateModeToggle();
  modeToggle.addEventListener('click', () => {
    document.body.classList.toggle('light-mode');
    persistTheme();
    updateModeToggle();
  });

  // === Center-peek carousel using triplicate set for seamless wrap ===
  const viewport = document.getElementById('carouselViewport');
  const track = document.getElementById('carouselTrack');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  // Build triplicate slides
  const originals = Array.from(track.children);
  const N = originals.length;
  const fragLeft = document.createDocumentFragment();
  const fragRight = document.createDocumentFragment();
  originals.forEach(s => fragLeft.appendChild(s.cloneNode(true)));
  originals.forEach(s => fragRight.appendChild(s.cloneNode(true)));
  track.insertBefore(fragLeft, track.firstChild);
  track.appendChild(fragRight);

  let slides = Array.from(track.children);
  let index = N; // start on the first slide of the middle block
  let autoTimer = null;
  let isAnimating = false;

  function slideOffset(i){
    const s = slides[i];
    const styles = getComputedStyle(viewport);
    const padL = parseFloat(styles.paddingLeft) || 0;
    const padR = parseFloat(styles.paddingRight) || 0;
    const vpW = viewport.clientWidth;
    const sW = s.clientWidth;
    const left = s.offsetLeft;

    // Identify the first/last real slide within the middle block
    const isFirstReal = (i === N);
    const isLastReal  = (i === 2*N - 1);

    // Edge behavior: hide outside neighbor at the ends
    if (isFirstReal) {
      // Align left edge of the first real slide with the viewport's left padding
      return left - padL;
    }
    if (isLastReal) {
      // Align right edge of the last real slide with the viewport's right padding
      return (left + sW) - (vpW - padR);
    }

    // Middle slides: perfectly center so both left and right previews are visible
    return left - (vpW - sW)/2;
  }
  function setActive(i){ slides.forEach((el, k) => el.classList.toggle('active', k === i)); }
  function centerOn(i, animate=true){
    if(!animate){ track.classList.add('no-anim'); }
    else { track.classList.remove('no-anim'); isAnimating = true; }
    const left = slideOffset(i);
    track.style.transform = `translate3d(${-left}px,0,0)`;
    setActive(i);
    if(!animate){ requestAnimationFrame(()=> track.classList.remove('no-anim')); }
  }

  function prewrap(target){
    if (target >= 2*N) { // jumped past right edge — snap back by N before animating
      index = target - N;
      centerOn(index, false);
      return index;
    } else if (target < N) { // jumped past left edge — snap forward by N before animating
      index = target + N;
      centerOn(index, false);
      return index;
    }
    return target;
  }

  function go(delta){
    if (isAnimating) return;
    let target = index + delta;
    target = prewrap(target); // ensure we are in the middle block before animating
    index = target;
    centerOn(index, true);
  }

  function startAuto(){ stopAuto(); autoTimer = setInterval(()=> go(1), 5000); }
  function stopAuto(){ if (autoTimer){ clearInterval(autoTimer); autoTimer=null; } }
  function restartAuto(){ stopAuto(); startAuto(); }

  window.addEventListener('load', () => { slides = Array.from(track.children); centerOn(index, false); startAuto(); });
  window.addEventListener('resize', () => centerOn(index, false));

  track.addEventListener('transitionend', (e)=>{ if (e.target !== track || e.propertyName !== 'transform') return; isAnimating = false; });

  // Controls — keep autoscroll running after clicks
  prevBtn.addEventListener('click', () => { go(-1); restartAuto(); });
  nextBtn.addEventListener('click', () => { go(1); restartAuto(); });

  // Touch swipe handling
  let sx=0, sy=0, st=0;
  viewport.addEventListener('touchstart', e=>{ if(!e.touches[0]) return; sx=e.touches[0].clientX; sy=e.touches[0].clientY; st=Date.now(); stopAuto(); }, {passive:true});
  viewport.addEventListener('touchend', e=>{ const dx=(e.changedTouches[0]?.clientX||0)-sx; const dy=(e.changedTouches[0]?.clientY||0)-sy; const dt=Date.now()-st; const horiz = Math.abs(dx)>Math.abs(dy) && Math.abs(dx)>30 && dt<600; if(horiz){ go(dx<0?1:-1); } restartAuto(); }, {passive:true});
</script>

</body>
</html>
